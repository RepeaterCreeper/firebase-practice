<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Start your development with a Dashboard for Bootstrap 4.">
    <meta name="author" content="Creative Tim">
    <title>Sikret</title>
    <!-- Favicon -->
    <link rel="icon" href="./assets/img/brand/favicon.png" type="image/png">
    <!-- Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
    <!-- Icons -->
    <link rel="stylesheet" href="./assets/vendor/nucleo/css/nucleo.css" type="text/css">
    <link rel="stylesheet" href="./assets/vendor/@fortawesome/fontawesome-free/css/all.min.css" type="text/css">
    <!-- Argon CSS -->
    <link rel="stylesheet" href="./assets/css/argon.css?v=1.2.0" type="text/css">
</head>

<body class="bg-default">
    <div class="main-content loginPhase" hidden>
        <!-- Header -->
        <div class="header py-7 py-lg-8 pt-lg-9"></div>
        <!-- Page content -->
        <div class="container mt--5 pb-5">
            <div class="row justify-content-center">
                <div class="col-lg-5 col-md-7">
                    <div class="bd-example bd-example-images mt--5">
                        <img src="./assets/img/brand/logo.png" class="rounded mx-auto d-block" alt="Sikret Logo" style="margin-bottom: 48px;">
                    </div>
                    <div class="card bg-secondary border-0 mb-0">
                        <div class="card-header bg-transparent pb-5">
                            <div class="text-muted text-center mt-2 mb-3"><small>Sign in with</small></div>
                            <div class="btn-wrapper text-center">
                                <a onclick="signInGoogle()" class="btn btn-neutral btn-icon">
                                    <span class="btn-inner--icon"><img
                                            src="./assets/img/icons/common/google.svg"></span>
                                    <span class="btn-inner--text">Google</span>
                                </a>
                                <a onclick="signInFacebook()" class="btn btn-neutral btn-icon">
                                    <span class="btn-inner--icon"><img
                                            src="./assets/img/icons/common/facebook.svg"></span>
                                    <span class="btn-inner--text">Facebook</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Phase -->
    <div class="main-content normalPhase">
        <div class="header bg-gradient-info py-7 py-lg-8 pt-lg-9">
            <div class="container">
                <div class="header-body text-center mb-7">
                    <div class="row justify-content-center">
                        <div class="col-xl-5 col-lg-6 col-md-8 px-5">
                            <h1 class="text-white" data-information-id="displayName"></h1>
                            <p class="text-lead text-white">Welcome to Sikret! Freely send anonymous messages to anyone
                                else on the platform.</p>
                        </div>
                    </div>
                    <button class="btn btn-icon btn-danger" type="button" onclick="signOut()">
                        <span class="btn-inner--text">Sign Out</span>
                    </button>
                    <button class="btn btn-icon btn-primary" type="button" data-toggle="modal" data-target="#modal-share">
                        <span class="btn-inner--text">Share your Link</span>
                    </button>
                </div>
            </div>
            <div class="separator separator-bottom separator-skew zindex-100">
                <svg x="0" y="0" viewBox="0 0 0 0" preserveAspectRatio="none" version="1.1"
                    xmlns="http://www.w3.org/2000/svg">
                    <polygon class="fill-default" points="0 0 0 0"></polygon>
                </svg>
            </div>
        </div>
        <div class="container-fluid">
            <div class="nav-wrapper">
                <ul class="nav nav-pills nav-fill flex-column flex-md-row" id="tabs-icons-text" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link mb-sm-3 mb-md-0 active" id="inbox-tab" data-toggle="tab" href="#inbox"
                            role="tab" aria-controls="tabs-icons-text-1" aria-selected="true">Inbox</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link mb-sm-3 mb-md-0" id="outbox-tab" data-toggle="tab" href="#outbox" role="tab"
                            aria-controls="tabs-icons-text-2" aria-selected="false">Outbox</a>
                    </li>
                </ul>
            </div>
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="inbox" role="tabpanel" aria-labelledby="inbox-tab">
                    <h1 class="h1 text-white mt-4">Your Messages</h1>
                    <h1 class="h1 text-info" data-loading-id="messages">Loading...</h1>
                    <div class="row" data-container-id="messages"></div>
                </div>
                <div class="tab-pane fade" id="outbox" role="tabpanel" aria-labelledby="outbox-tab">
                    <h1 class="h1 text-white mt-4">Sent Messages</h1>
                    <h1 class="h1 text-info" data-loading-id="sentMessages">Loading...</h1>
                    <div class="row" data-container-id="sentMessages"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="main-content messagePhase" hidden>
        <div class="header py-7 py-lg-8 pt-lg-9">
            <div class="container">
                <div class="card">
                    <div class="card-body bg-gradient-lighter">
                        <div class="header-body text-center mb-7">
                            <div class="row justify-content-center">
                                <div class="col-xl-5 col-lg-6 col-md-8 px-5">
                                    <div class="spinner-grow text-primary" role="status" data-loading-id="displayNameMessages">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    <h1 data-information-id="receiverDN"></h1>
                                    <p class="text-lead">Send your anonymous message!</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <textarea class="form-control form-control-alternative" rows="3"
                                    placeholder="Your message goes here..." id="messageContent"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="row">
                            <div class="col-6">
                                <button class="btn btn-outline-warning" style="width: 100%;" onclick="gotoProfile()">
                                    <span class="btn-inner--text">Go back to Profile</span>
                                </button>
                            </div>
                            <div class="col-6">
                                <button class="btn btn-outline-primary" style="width: 100%" onclick="sendMessage()">
                                    <span class="btn-inner--text">Send Message</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-share" tabindex="-1" role="dialog" aria-labelledby="modal-share" aria-hidden="true">
        <div class="modal-dialog modal-primary modal-dialog-centered modal-" role="document">
            <div class="modal-content bg-gradient-primary">
                
                <div class="modal-header">
                    <h6 class="modal-title" id="modal-title-notification">Share your Link</h6>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">Ã—</span>
                    </button>
                </div>
                
                <div class="modal-body">
                    
                    <div class="py-3 text-center">
                        <i class="ni ni-world-2 ni-3x"></i>
                        <h4 class="heading mt-4">This is your Link:</h4>
                        <input class="form-control form-control-muted text-center" id="shareLinkID" disabled>
                    </div>
                    
                </div>
                
                <div class="modal-footer">
                    <button class="btn btn-icon btn-3 btn-outline-white" type="button" onclick="copyShareLink(this)">
                        <span class="btn-inner--icon"><i class="ni ni-scissors"></i></span>
                        
                        <span class="btn-inner--text">Copy Link</span>
                        
                    </button>
                    <button type="button" class="btn btn-link text-white ml-auto" data-dismiss="modal">Close</button>
                </div>
                
            </div>
        </div>
    </div>
    <!-- Argon Scripts -->
    <!-- Core -->
    <script src="./assets/vendor/jquery/dist/jquery.min.js"></script>
    <script src="./assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./assets/vendor/js-cookie/js.cookie.js"></script>
    <script src="./assets/vendor/jquery.scrollbar/jquery.scrollbar.min.js"></script>
    <script src="./assets/vendor/jquery-scroll-lock/dist/jquery-scrollLock.min.js"></script>
    <!-- Argon JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
    <script src="./assets/js/argon.js?v=1.2.0"></script>

    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-app.js"></script>

    <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
    <script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-analytics.js"></script>

    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-firestore.js"></script>

    <script src="./assets/js/main.js"></script>

    <script>
        init();
    </script>

</body>

</html>